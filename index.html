<!DOCTYPE html>
<html lang="en" dir="ltr" id="htmlRoot">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Chef Farah Ammar</title>
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=El+Messiri:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="i18n.js"></script>
  <script src="cart.js"></script>
</head>
<body>
  <div class="page-loader" id="pageLoader">
    <div class="loader-inner">
      <img src="logo.png" alt="Farah Ammar" class="loader-logo" width="220" height="110" decoding="async">
      <div class="loader-bar"><span class="loader-bar-fill"></span></div>
    </div>
  </div>

  <nav class="nav-minimal fixed-top anim-fade-down" id="nav">
    <div class="container-fluid px-4">
<a class="nav-brand" href="#hero" data-i18n="nav.brand">Farah Ammar</a>
        <div class="nav-right">
        <button type="button" class="nav-lang-toggle" id="navLangToggle" aria-label="Switch to Arabic" title="العربية">
          <i class="bi bi-translate" aria-hidden="true"></i>
        </button>
        <button type="button" class="nav-cart" id="navCart" aria-label="Cart" aria-expanded="false" aria-haspopup="true">
          <i class="bi bi-cart3" aria-hidden="true"></i>
          <span class="nav-cart-badge" id="cartBadge" aria-hidden="true">0</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Cart dropdown -->
  <div class="cart-panel" id="cartPanel" role="dialog" aria-label="Shopping cart">
    <div class="cart-panel-inner">
      <div class="cart-panel-header">
        <h3 class="cart-panel-title" data-i18n="cart.title">Your cart</h3>
        <button type="button" class="cart-panel-close" id="cartClose" aria-label="Close cart"><i class="bi bi-x-lg"></i></button>
      </div>
      <div class="cart-panel-list" id="cartList">
        <!-- Cart items rendered by JS -->
      </div>
      <div class="cart-panel-empty" id="cartEmpty">
        <i class="bi bi-cart-x"></i>
        <p data-i18n="cart.empty">Your cart is empty</p>
      </div>
      <div class="cart-panel-footer" id="cartFooter" hidden>
        <div class="cart-panel-total">
          <span data-i18n="cart.total">Total</span>
          <span id="cartTotal">0 ₪</span>
        </div>
        <a href="#" class="cart-panel-order cart-panel-pay-visa" id="cartPayVisaBtn"><i class="bi bi-credit-card-2-front"></i> <span data-i18n="cart.payVisa">Pay by Visa / Mastercard</span></a>
        <a href="#" class="cart-panel-order" id="cartOrderBtn"><span data-i18n="cart.orderViaWa">Cash on delivery</span></a>
      </div>
    </div>
  </div>

  <div class="cart-toast" id="cartToast" role="status" aria-live="polite" aria-hidden="true">
    <i class="bi bi-check-circle-fill cart-toast-icon"></i>
    <span class="cart-toast-text" data-i18n="cart.added">Added to cart!</span>
  </div>

  <main>
    <!-- Hero: full viewport -->
    <section class="hero-full" id="hero">
      <div class="hero-bg"></div>
      <div class="hero-content">
        <img src="logo.png" alt="Farah Ammar" class="hero-logo anim-fade-up" width="400" height="200" decoding="async">
        <p class="hero-tagline anim-fade-up" data-i18n="hero.tagline">Tasting the world, One bite at a time.</p>
        <a href="#product" class="hero-cta anim-fade-up" data-i18n="hero.cta">Explore the Collection</a>
      </div>
      <div class="hero-scroll anim-fade">
        <span data-i18n="hero.scroll">Scroll</span>
        <i class="bi bi-chevron-down"></i>
      </div>
    </section>

    <!-- Shop section: header, filters, grid -->
    <section class="block-product" id="product">
      <div class="shop-wrap">
        <header class="shop-header anim-on-scroll">
          <h2 class="shop-title" data-i18n="shop.title">Shop</h2>
          <p class="shop-sub" data-i18n="shop.sub">Signature bites, bold sauces & the perfect finish — crafted by Chef Farah</p>
        </header>

        <div class="shop-toolbar anim-on-scroll">
          <div class="shop-filters">
            <button type="button" class="shop-filter-btn active" data-filter="all" data-label="All" data-label-ar="الكل" aria-pressed="true" data-i18n="filter.all">All</button>
            <button type="button" class="shop-filter-btn" data-filter="boxes" data-label="Nana's Bites" data-label-ar="صناديق الحلويات" data-i18n="filter.boxes">Nana's Bites</button>
            <button type="button" class="shop-filter-btn" data-filter="sauces" data-label="Sauces" data-label-ar="الصوص" data-i18n="filter.sauces">Sauces</button>
            <button type="button" class="shop-filter-btn" data-filter="chopsticks" data-label="Chop sticks" data-label-ar="عيدان الطعام">Chop sticks</button>
          </div>
          <div class="shop-sort">
            <label for="shopSort" class="shop-sort-label" data-i18n="sort.label">Sort by</label>
            <select id="shopSort" class="shop-sort-select" aria-label="Sort products" data-i18n-aria="sort.aria">
              <option value="newest" data-i18n="sort.newest">Newest</option>
              <option value="price-asc" data-i18n="sort.priceAsc">Price: low to high</option>
              <option value="price-desc" data-i18n="sort.priceDesc">Price: high to low</option>
            </select>
          </div>
        </div>

        <p class="shop-swipe-hint" data-i18n="shop.swipeHint">Swipe to see more products</p>
        <div class="shop-grid" id="shopGrid">
          <div class="product-preview product-preview-card anim-on-scroll" data-category="boxes" data-price="25">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="1.png" alt="Dumplings – Chicken" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badge">Signature</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.dumplingsChickenTitle">Dumplings – Chicken</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">25</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.dumplingsChickenDesc">Handcrafted chicken dumplings with rich flavors. Created by Chef Farah.</p>
                <a href="product-dumplings-chicken.html" class="product-preview-cta">
                  <span data-i18n="product.viewProduct">View product</span>
                  <i class="bi bi-arrow-right" aria-hidden="true"></i>
                </a>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Dumplings – Chicken" data-cart-price="25"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="boxes" data-price="27">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="1.png" alt="Dumplings – Meat" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badge">Signature</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.dumplingsMeatTitle">Dumplings – Meat</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">27</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.dumplingsMeatDesc">Handcrafted meat dumplings with rich flavors. Created by Chef Farah.</p>
                <a href="product-dumplings-meat.html" class="product-preview-cta">
                  <span data-i18n="product.viewProduct">View product</span>
                  <i class="bi bi-arrow-right" aria-hidden="true"></i>
                </a>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Dumplings – Meat" data-cart-price="27"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="sauces" data-price="2">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="Teriyaki .jpeg" alt="Teriyaki sauce" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badgeSauce">Sauce</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.sauceTeriyaki">Teriyaki sauce</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">2</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.sauceTeriyakiDesc">Rich teriyaki glaze, perfect for dumplings and stir-fry.</p>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Teriyaki sauce" data-cart-price="2"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="sauces" data-price="2">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="soya .jpeg" alt="Soya sauce" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badgeSauce">Sauce</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.sauceSoya">Soya sauce</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">2</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.sauceSoyaDesc">Classic soy sauce for dipping and cooking.</p>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Soya sauce" data-cart-price="2"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="sauces" data-price="2">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="Buffalo .jpeg" alt="Buffalo sauce" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badgeSauce">Sauce</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.sauceBuffalo">Buffalo sauce</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">2</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.sauceBuffaloDesc">Spicy buffalo sauce for a bold kick.</p>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Buffalo sauce" data-cart-price="2"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="sauces" data-price="2">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="Sweet-chili.jpeg" alt="Sweet chili sauce" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badgeSauce">Sauce</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title" data-i18n="product.sauceSweetChili">Sweet chili sauce</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">2</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc" data-i18n="product.sauceSweetChiliDesc">Sweet and tangy chili sauce for dipping.</p>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Sweet chili sauce" data-cart-price="2"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>

          <div class="product-preview product-preview-card anim-on-scroll" data-category="chopsticks" data-price="1">
            <div class="product-preview-link">
              <div class="product-preview-image">
                <img src="Chop-sticks.jpeg" alt="Chop sticks" width="400" height="300" loading="lazy" decoding="async">
                <span class="product-preview-badge" data-i18n="product.badgeAccessory">Accessory</span>
              </div>
              <div class="product-preview-body">
                <h3 class="product-preview-title">Chop sticks</h3>
                <div class="product-preview-price-wrap">
                  <span class="product-preview-price">1</span>
                  <span class="product-preview-currency">₪</span>
                </div>
                <p class="product-preview-desc product-preview-chop-note" data-i18n="product.chopsticksNote">1 ₪ per stick (not per pack).</p>
              </div>
            </div>
            <button type="button" class="product-preview-add-cart" data-cart-name="Chop sticks" data-cart-price="1"><i class="bi bi-cart-plus"></i> <span data-i18n="product.addToCart">Add to cart</span></button>
          </div>
        </div>

        <div class="shop-empty" id="shopEmpty" aria-live="polite" hidden>
          <i class="bi bi-inbox"></i>
          <p class="shop-empty-title" id="shopEmptyTitle" data-i18n="empty.title">No products in this category</p>
          <p class="shop-empty-desc" data-i18n="empty.desc">We don't have any items here yet. Try another filter or check back soon.</p>
          <button type="button" class="shop-empty-btn" id="shopEmptyShowAll" data-i18n="empty.showAll">Show all</button>
        </div>
      </div>
    </section>

    <!-- Other inquiries -->
    <section class="block-order" id="order">
      <div class="order-inner">
        <h2 class="order-title anim-on-scroll" data-i18n="order.title">Other inquiries</h2>
        <p class="order-sub anim-on-scroll" data-i18n="order.sub">Questions? Special requests? We're here for you.</p>
        <a href="https://wa.me/972501234567" class="btn-order btn-order-wa anim-on-scroll" target="_blank" rel="noopener">
          <i class="bi bi-whatsapp"></i> <span data-i18n="order.wa">Contact us via WhatsApp</span>
        </a>
      </div>
    </section>

    <footer class="site-footer">
      <div class="footer-inner anim-on-scroll">
        <div class="footer-brand-block">
          <span class="footer-brand" data-i18n="nav.brand">Nana's Bites</span>
          <p class="footer-tagline" data-i18n="footer.tagline">by Chef Farah Ammar · Crafted with love</p>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-connect">
          <span class="footer-label" data-i18n="footer.connect">Connect</span>
          <div class="footer-links">
            <a href="https://wa.me/972501234567" target="_blank" rel="noopener" aria-label="WhatsApp"><i class="bi bi-whatsapp"></i></a>
            <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
          </div>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-payment-block">
          <span class="footer-label" data-i18n="footer.payment">Payment</span>
          <div class="footer-payment" aria-label="Payment methods">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa" class="footer-payment-icon" width="40" height="26">
            <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard" class="footer-payment-icon" width="40" height="26">
            <i class="bi bi-cash-coin" data-i18n-title="footer.cod" title="Cash on delivery"></i>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copy">© <span id="year"></span> <span data-i18n="footer.copy">Nana's Bites by Chef Farah Ammar. All rights reserved.</span></p>
      </div>
    </footer>
  </main>

  <div class="cookie-consent" id="cookieConsent" aria-live="polite" hidden>
    <div class="cookie-consent-inner">
      <span class="cookie-consent-icon" aria-hidden="true"><i class="bi bi-cookie"></i></span>
      <p class="cookie-consent-msg" data-i18n="cookie.msg">We use cookies to improve your experience and remember your preferences on this site.</p>
      <div class="cookie-consent-btns">
        <button type="button" class="cookie-consent-btn cookie-consent-ignore" id="cookieConsentIgnore" data-i18n="cookie.ignore">Ignore</button>
        <button type="button" class="cookie-consent-btn" id="cookieConsentAccept" data-i18n="cookie.accept">Accept</button>
      </div>
    </div>
  </div>

  <script>
    (function () {
      function hideLoader() {
        var loader = document.getElementById('pageLoader');
        if (!loader) return;
        loader.classList.add('loader-out');
        setTimeout(function () { loader.style.display = 'none'; }, 450);
      }
      if (document.readyState === 'complete') setTimeout(hideLoader, 120);
      else window.addEventListener('load', function () { setTimeout(hideLoader, 120); });

      document.querySelectorAll('a[href^="#"]').forEach(function (a) {
        a.addEventListener('click', function (e) {
          var id = this.getAttribute('href');
          if (id === '#') return;
          var el = document.querySelector(id);
          if (el) { e.preventDefault(); el.scrollIntoView({ behavior: 'smooth' }); }
        });
      });
      var nav = document.getElementById('nav');
      window.addEventListener('scroll', function () {
        nav.classList.toggle('nav-scrolled', window.scrollY > 60);
      });
      document.getElementById('year').textContent = new Date().getFullYear();

      var cookieBanner = document.getElementById('cookieConsent');
      var cookieAccept = document.getElementById('cookieConsentAccept');
      var COOKIE_CONSENT_KEY = 'farah-cookie-consent';
      function showCookieBanner() {
        if (!cookieBanner) return;
        try {
          if (!localStorage.getItem(COOKIE_CONSENT_KEY)) {
            cookieBanner.hidden = false;
            cookieBanner.classList.add('cookie-consent-visible');
          }
        } catch (e) {}
      }
      function acceptCookies() {
        try { localStorage.setItem(COOKIE_CONSENT_KEY, 'accepted'); } catch (e) {}
        if (cookieBanner) {
          cookieBanner.classList.remove('cookie-consent-visible');
          setTimeout(function () { cookieBanner.hidden = true; }, 350);
        }
      }
      if (cookieAccept) cookieAccept.addEventListener('click', acceptCookies);
      var cookieIgnore = document.getElementById('cookieConsentIgnore');
      function dismissCookies() {
        try { localStorage.setItem(COOKIE_CONSENT_KEY, 'dismissed'); } catch (e) {}
        if (cookieBanner) {
          cookieBanner.classList.remove('cookie-consent-visible');
          setTimeout(function () { cookieBanner.hidden = true; }, 350);
        }
      }
      if (cookieIgnore) cookieIgnore.addEventListener('click', dismissCookies);
      setTimeout(showCookieBanner, 800);

      var animEls = document.querySelectorAll('.anim-on-scroll');
      var observer = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12, rootMargin: '0px 0px -30px 0px' });
      animEls.forEach(function (el) { observer.observe(el); });

      // Shop: filter & sort
      var grid = document.getElementById('shopGrid');
      var filterBtns = document.querySelectorAll('.shop-filter-btn');
      var sortSelect = document.getElementById('shopSort');
      var emptyEl = document.getElementById('shopEmpty');
      var showAllBtn = document.getElementById('shopEmptyShowAll');
      if (grid && filterBtns.length) {
        function updateEmptyState() {
          var cards = grid.querySelectorAll('.product-preview');
          var visibleCount = 0;
          cards.forEach(function (c) { if (c.style.display !== 'none') visibleCount++; });
          var noneVisible = visibleCount === 0;
          if (emptyEl) {
            emptyEl.hidden = !noneVisible;
            if (noneVisible) {
              var activeBtn = document.querySelector('.shop-filter-btn.active');
              var isAr = window.currentLang === 'ar';
              var label = activeBtn ? (isAr ? (activeBtn.getAttribute('data-label-ar') || activeBtn.getAttribute('data-label')) : activeBtn.getAttribute('data-label')) : (isAr ? 'هذا التصنيف' : 'this category');
              if (activeBtn && (activeBtn.getAttribute('data-filter') === 'all' || !label)) label = isAr ? 'هذا التصنيف' : 'this category';
              var prefix = window.getTranslation ? window.getTranslation('empty.inCategory') : 'No products in ';
              var titleEl = document.getElementById('shopEmptyTitle');
              if (titleEl) titleEl.textContent = prefix + (label || '');
            }
          }
        }
        filterBtns.forEach(function (btn) {
          btn.addEventListener('click', function () {
            filterBtns.forEach(function (b) { b.classList.remove('active'); b.setAttribute('aria-pressed', 'false'); });
            this.classList.add('active');
            this.setAttribute('aria-pressed', 'true');
            var filter = this.getAttribute('data-filter');
            var cards = grid.querySelectorAll('.product-preview');
            cards.forEach(function (card) {
              var cat = card.getAttribute('data-category') || '';
              var show = filter === 'all' || cat === filter;
              card.style.display = show ? '' : 'none';
            });
            updateEmptyState();
          });
        });
        if (showAllBtn && emptyEl) {
          showAllBtn.addEventListener('click', function () {
            filterBtns.forEach(function (b) {
              b.classList.remove('active');
              b.setAttribute('aria-pressed', 'false');
              if (b.getAttribute('data-filter') === 'all') {
                b.classList.add('active');
                b.setAttribute('aria-pressed', 'true');
              }
            });
            grid.querySelectorAll('.product-preview').forEach(function (card) { card.style.display = ''; });
            emptyEl.hidden = true;
          });
        }
        window.updateEmptyState = updateEmptyState;
      }
      window.addEventListener('languageChange', function () {
        if (window.updateEmptyState) window.updateEmptyState();
      });

      if (grid && sortSelect) {
        sortSelect.addEventListener('change', function () {
          var cards = Array.from(grid.querySelectorAll('.product-preview'));
          var value = this.value;
          cards.sort(function (a, b) {
            var pa = parseInt(a.getAttribute('data-price') || '0', 10);
            var pb = parseInt(b.getAttribute('data-price') || '0', 10);
            if (value === 'price-asc') return pa - pb;
            if (value === 'price-desc') return pb - pa;
            return 0;
          });
          cards.forEach(function (card) { grid.appendChild(card); });
        });
      }
    })();
  </script>
</body>
</html>
